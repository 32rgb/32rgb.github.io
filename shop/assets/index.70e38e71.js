import{_ as t}from"./CommentItem.305053ae.js";import{b as a,c as s}from"./product.fb9b7eb9.js";import{M as o,O as n,W as e,X as c,r as u,o as l,c as i,Y as m,a0 as r,$ as d,a1 as v,a2 as p,aa as C,a4 as f,a6 as _,a5 as y}from"./vendor.e5c0db2e.js";import"./index.ff69f4d4.js";o("data-v-2e15ce96");const g={key:0};n();const k={props:{productId:{type:String,required:!0}},setup(o){const{productId:n}=o,k=e({commentCounts:{},goodCount:c((()=>{var t;return(null==(t=k.commentCounts)?void 0:t.good_count)||0})),poorCount:c((()=>{var t;return(null==(t=k.commentCounts)?void 0:t.poor_count)||0})),inCount:c((()=>{var t;return(null==(t=k.commentCounts)?void 0:t.in_count)||0})),sumCount:c((()=>{var t;return(null==(t=k.commentCounts)?void 0:t.sum_count)||0})),replyChance:c((()=>{var t;return(null==(t=k.commentCounts)?void 0:t.reply_chance)||100})),commentList:[],active:"0",isSum:c((()=>"0"===k.active)),isGood:c((()=>"1"===k.active)),isIn:c((()=>"2"===k.active)),isPoor:c((()=>"3"===k.active)),hasComment:c((()=>k.commentList.length||0))});async function b(t){const{data:a}=await s(n,{type:t});200===a.status&&(k.commentList=a.data)}function h(t){k.active=t,b(t)}return async function(){const{data:t}=await a(n);200===t.status&&(k.commentCounts=t.data)}(),b("0"),(a,s)=>{const o=u("van-cell"),n=u("van-button"),e=u("van-empty"),c=u("van-cell-group");return l(),i(c,{class:"comment"},{default:m((()=>[r(o,{title:"商品评价",value:`好评率:${d(k).replyChance}%`},null,8,["value"]),r(o,{class:"tags"},{default:m((()=>[r(n,{size:"small",class:C({active:d(k).isSum}),onClick:s[0]||(s[0]=t=>h("0"))},{default:m((()=>[v("全部("+p(d(k).sumCount)+")",1)])),_:1},8,["class"]),r(n,{size:"small",class:C({active:d(k).isGood}),onClick:s[1]||(s[1]=t=>h("1"))},{default:m((()=>[v("好评("+p(d(k).goodCount)+")",1)])),_:1},8,["class"]),r(n,{size:"small",class:C({active:d(k).isIn}),onClick:s[2]||(s[2]=t=>h("2"))},{default:m((()=>[v("中评("+p(d(k).inCount)+")",1)])),_:1},8,["class"]),r(n,{size:"small",class:C({active:d(k).isPoor}),onClick:s[3]||(s[3]=t=>h("3"))},{default:m((()=>[v("差评("+p(d(k).poorCount)+")",1)])),_:1},8,["class"])])),_:1}),d(k).hasComment?(l(),f("div",g,[(l(!0),f(_,null,y(d(k).commentList,(a=>(l(),i(t,{key:a.id,reply:a},null,8,["reply"])))),128))])):(l(),i(e,{key:1,description:"暂时还没有评价哦~"}))])),_:1})}},__scopeId:"data-v-2e15ce96"};export{k as default};
