import{r as e}from"./index.ff69f4d4.js";import{M as a,O as l,a7 as t,U as o,r as n,o as u,a4 as d,a0 as s,Y as i,a6 as r,_ as v,a1 as c}from"./vendor.e5c0db2e.js";a("data-v-52c25671");const m={style:{margin:"16px"}},p=c(" 提交 ");l();const f={props:{cartId:String},setup(a){const{cartId:l}=a,c=t(""),f=t(""),h=t(""),V=t(""),_=t(!1),b=t(!1),y=t(""),w=t([]),U=({selectedOptions:e})=>{b.value=!1,y.value=e.map((e=>e.n)).join("/"),k={province:e[0].n,city:e[1].n,city_id:e[1].v,district:e[2].n}},g={text:"n",value:"v",children:"c"},x=e=>(e.forEach((e=>{0===e.c.length?delete e.c:x(e.c)})),e);(async()=>{const{data:a}=await e({method:"GET",url:"/city_list"});200===a.status&&(w.value=x(a.data))})();let k={};const I=o(),j=async()=>{const{data:a}=await(a=>e({method:"POST",url:"/address/edit",data:a}))({id:0,real_name:c.value,phone:f.value,is_default:_.value,detail:V.value,address:k});200===a.status&&(l?I.push({name:"order-confirm",params:{cartId:l}}):I.push("/user"))};return(e,a)=>{const l=n("van-nav-bar"),t=n("van-field"),o=n("van-cascader"),x=n("van-popup"),k=n("van-cell-group"),I=n("van-switch"),C=n("van-button"),O=n("van-form");return u(),d(r,null,[s(l,{title:"新增收货地址","left-text":"返回","left-arrow":""}),s(O,null,{default:i((()=>[s(k,{inset:""},{default:i((()=>[s(t,{modelValue:c.value,"onUpdate:modelValue":a[0]||(a[0]=e=>c.value=e),name:"姓名",label:"姓名",placeholder:"收货人姓名"},null,8,["modelValue"]),s(t,{modelValue:f.value,"onUpdate:modelValue":a[1]||(a[1]=e=>f.value=e),name:"电话",label:"电话",placeholder:"收货人手机号"},null,8,["modelValue"]),s(t,{modelValue:y.value,"onUpdate:modelValue":a[2]||(a[2]=e=>y.value=e),"is-link":"",readonly:"",label:"地区",placeholder:"请选择所在地区",onClick:a[3]||(a[3]=e=>b.value=!0)},null,8,["modelValue"]),s(x,{show:b.value,"onUpdate:show":a[6]||(a[6]=e=>b.value=e),round:"",position:"bottom"},{default:i((()=>[s(o,{modelValue:h.value,"onUpdate:modelValue":a[4]||(a[4]=e=>h.value=e),title:"请选择所在地区","field-names":g,options:w.value,onClose:a[5]||(a[5]=e=>b.value=!1),onFinish:U},null,8,["modelValue","options"])])),_:1},8,["show"]),s(t,{modelValue:V.value,"onUpdate:modelValue":a[7]||(a[7]=e=>V.value=e),name:"详细地址",label:"详细地址",placeholder:"详细地址信息"},null,8,["modelValue"])])),_:1}),s(k,{inset:""},{default:i((()=>[s(t,{name:"switch",label:"设置默认地址","input-align":"right"},{input:i((()=>[s(I,{modelValue:_.value,"onUpdate:modelValue":a[8]||(a[8]=e=>_.value=e),size:"20"},null,8,["modelValue"])])),_:1})])),_:1}),v("div",m,[s(C,{round:"",block:"",type:"primary","native-type":"submit",onClick:j},{default:i((()=>[p])),_:1})])])),_:1})],64)}},__scopeId:"data-v-52c25671"};export{f as default};
