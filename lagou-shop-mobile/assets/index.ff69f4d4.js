import{r as e,o as t,c as s,D as a,a as r,b as o,d as n,e as c,C as u,B as i,F as d,f as m,g as p,R as _,h,i as l,j as E,k as f,G as L,l as A,P as g,m as I,A as P,L as T,I as O,T as R,n as x,p as j,q as k,s as D,t as V,u as y,v as q,w as v,S as w,x as S,y as b,z as C,E as U,H as K,J as N,N as z,K as B}from"./vendor.e5c0db2e.js";const F={};let G;F.render=function(a,r){const o=e("router-view");return t(),s(o)};const $={},H=function(e,t){if(!t)return e();if(void 0===G){const e=document.createElement("link").relList;G=e&&e.supports&&e.supports("modulepreload")?"modulepreload":"preload"}return Promise.all(t.map((e=>{if(e in $)return;$[e]=!0;const t=e.endsWith(".css"),s=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${s}`))return;const a=document.createElement("link");return a.rel=t?"stylesheet":G,t||(a.as="script",a.crossOrigin=""),a.href=e,document.head.appendChild(a),t?new Promise(((e,t)=>{a.addEventListener("load",e),a.addEventListener("error",t)})):void 0}))).then((()=>e()))};var J={namespaced:!0,state:{token:window.localStorage.getItem("USER_TOKEN")},getters:{},mutations:{setUser(e,t){e.token=t,window.localStorage.setItem("USER_TOKEN",t)}},actions:{}};const M=a.create({baseURL:"https://shop.fed.lagounews.com/api"});M.interceptors.request.use((e=>{const{token:t}=X.state.user;return t&&(e.headers.Authorization="Bearer "+t),e})),M.interceptors.response.use((e=>(41e4===e.data.status&&ee.push({name:"login",query:{redirect:ee.currentRoute.fullPath}}),e)));const W=e=>M({method:"POST",url:"/cart/add",data:e}),Q=e=>M({method:"GET",url:"/cart/list",params:e});var X=r({modules:{user:J,cart:{namespaced:!0,state:{cartList:[]},getters:{checkedItems:e=>e.cartList.filter((e=>!0===e.checked)),totalPrice:(e,t)=>t.checkedItems.reduce(((e,t)=>e+t.price*t.count),0).toFixed(2),checkedAll:(e,t)=>e.cartList.length===t.checkedItems.length},mutations:{addToCart(e,t){e.cartList.push(t)},clear(e){e.cartList=[]},checkedChange(e,{id:t,checked:s}){e.cartList.find((e=>e.id===t)).checked=s},countChange(e,{id:t,count:s}){e.cartList.find((e=>e.id===t)).count=s},changeAll(e,{checked:t}){e.cartList.forEach((e=>e.checked=t))}},actions:{async countChange({commit:e},t){e("countChange",t);const{data:s}=await(e=>M({method:"POST",url:"/cart/num",data:e}))({id:t.id,number:t.count});s.status}}}}});const Y=[{path:"/login",name:"login",component:()=>H((()=>import("./index.42450e5b.js")),["./assets/index.42450e5b.js","./assets/index.c8f73524.css","./assets/index.7b64fe3c.css","./assets/vendor.e5c0db2e.js","./assets/vendor.1bdfbe96.css","./assets/user.c5b086de.js","./assets/index.ea8c89d5.js"])},{path:"/",name:"home",component:()=>H((()=>import("./index.4ea9b350.js")),["./assets/index.4ea9b350.js","./assets/index.b5475449.css","./assets/vendor.e5c0db2e.js","./assets/vendor.1bdfbe96.css","./assets/index.ea8c89d5.js","./assets/product.fb9b7eb9.js","./assets/LayoutFooter.8e5d3438.js","./assets/LayoutFooter.7c53623d.css"])},{path:"/category",name:"category",component:()=>H((()=>import("./index.1e3c09e1.js")),["./assets/index.1e3c09e1.js","./assets/LayoutFooter.8e5d3438.js","./assets/LayoutFooter.7c53623d.css","./assets/vendor.e5c0db2e.js","./assets/vendor.1bdfbe96.css"])},{path:"/category-detail/:categoryId",name:"category-detail",component:()=>H((()=>import("./index.0689e717.js")),void 0),props:!0},{path:"/address",name:"address",component:()=>H((()=>import("./index.113b4980.js")),["./assets/index.113b4980.js","./assets/index.c6e70506.css","./assets/vendor.e5c0db2e.js","./assets/vendor.1bdfbe96.css"]),props:!0,meta:{requireAuth:!0}},{path:"/order-confirm",name:"order-confirm",component:()=>H((()=>import("./index.19185f15.js")),["./assets/index.19185f15.js","./assets/index.13374eaa.css","./assets/index.7b64fe3c.css","./assets/vendor.e5c0db2e.js","./assets/vendor.1bdfbe96.css","./assets/order.32c4a20a.js"]),props:!0,meta:{requireAuth:!0}},{path:"/order",name:"order",component:()=>H((()=>import("./index.51d21256.js")),["./assets/index.51d21256.js","./assets/index.0db36cb0.css","./assets/vendor.e5c0db2e.js","./assets/vendor.1bdfbe96.css","./assets/order.32c4a20a.js"]),meta:{requireAuth:!0}},{path:"/order-detail/:orderId",name:"order-detail",component:()=>H((()=>import("./index.f1a3656f.js")),void 0),props:!0,meta:{requireAuth:!0}},{path:"/pay",name:"pay",component:()=>H((()=>import("./index.e8326f6e.js")),void 0),meta:{requireAuth:!0}},{path:"/product/:productId",name:"product",component:()=>H((()=>import("./index.3fed9ec9.js")),["./assets/index.3fed9ec9.js","./assets/index.45b47ebb.css","./assets/index.7b64fe3c.css","./assets/CommentItem.305053ae.js","./assets/CommentItem.e5ee95a2.css","./assets/vendor.e5c0db2e.js","./assets/vendor.1bdfbe96.css","./assets/product.fb9b7eb9.js"]),props:!0},{path:"/comment/:productId",name:"comment",component:()=>H((()=>import("./index.70e38e71.js")),["./assets/index.70e38e71.js","./assets/index.c7e1fb8a.css","./assets/CommentItem.305053ae.js","./assets/CommentItem.e5ee95a2.css","./assets/vendor.e5c0db2e.js","./assets/vendor.1bdfbe96.css","./assets/product.fb9b7eb9.js"]),props:!0},{path:"/recommend",name:"recommend",component:()=>H((()=>import("./index.9c9fc498.js")),["./assets/index.9c9fc498.js","./assets/LayoutFooter.8e5d3438.js","./assets/LayoutFooter.7c53623d.css","./assets/vendor.e5c0db2e.js","./assets/vendor.1bdfbe96.css"])},{path:"/cart",name:"cart",component:()=>H((()=>import("./index.5034eb40.js")),["./assets/index.5034eb40.js","./assets/index.b7855a19.css","./assets/LayoutFooter.8e5d3438.js","./assets/LayoutFooter.7c53623d.css","./assets/vendor.e5c0db2e.js","./assets/vendor.1bdfbe96.css"]),meta:{requireAuth:!0}},{path:"/search",name:"search",component:()=>H((()=>import("./index.4803dfc8.js")),void 0)},{path:"/user",name:"user",component:()=>H((()=>import("./index.4effa1ac.js")),["./assets/index.4effa1ac.js","./assets/index.0187bd21.css","./assets/LayoutFooter.8e5d3438.js","./assets/LayoutFooter.7c53623d.css","./assets/vendor.e5c0db2e.js","./assets/vendor.1bdfbe96.css","./assets/user.c5b086de.js"]),meta:{requireAuth:!0}},{path:"/:pathMatch(.*)*",name:"not-found",component:()=>H((()=>import("./index.81a1ee16.js")),void 0)}],Z=o({history:n(),routes:Y});Z.beforeEach((e=>!e.meta.requireAuth||(X.state.user.token&&window.localStorage.getItem("USER_TOKEN")?void 0:{name:"login",query:{redirect:e.fullPath}})));var ee=Z;const te=c(F);te.use(ee),te.use(X),te.use(u).use(i).use(d).use(m).use(p).use(_).use(h).use(l).use(E).use(f).use(L).use(A).use(g).use(I).use(P).use(T).use(O).use(R).use(x).use(j).use(k).use(D).use(V).use(y).use(q).use(v).use(w).use(S).use(b).use(C).use(U).use(K).use(N).use(z).use(B),te.mount("#app");export{W as a,Q as g,M as r};
