import{M as a,O as e,r as t,o as s,a4 as n,_ as l,a0 as i,c as o,Y as d,a5 as r,a2 as u,a6 as c,a7 as p,X as v,W as m,$ as f}from"./vendor.e5c0db2e.js";import{a as g}from"./index.ea8c89d5.js";import{g as h}from"./product.fb9b7eb9.js";import{_}from"./LayoutFooter.8e5d3438.js";import"./index.ff69f4d4.js";a("data-v-41eab778");const w={class:"home-nav"},y=l("img",{height:"20",src:"/assets/logo.15e0b288.png",alt:""},null,-1),b={class:"search"};e();const x={setup:a=>(a,e)=>{const o=t("van-icon");return s(),n("div",w,[y,l("div",b,[i(o,{name:"search",size:"0.5rem"})]),i(o,{name:"wap-nav"})])},__scopeId:"data-v-41eab778"};a("data-v-87974664");const j=["textContent"],I={class:"price"},L={class:"sales"};e();const k={props:{productsData:{type:Array,required:!0}},setup(a){const{productsData:e}=a;return(a,p)=>{const v=t("van-image"),m=t("van-grid-item"),f=t("van-grid");return s(),o(f,{class:"product-list","column-num":2,gutter:15,center:!1,border:!1},{default:d((()=>[(s(),n(c,null,r(e,(a=>i(m,{key:a.id,to:{name:"product",params:{productId:a.id}}},{default:d((()=>[i(v,{src:a.image,height:"165"},null,8,["src"]),l("p",{class:"title",textContent:u(a.store_name)},null,8,j),l("p",I,"￥"+u(a.price),1),l("p",L,"已售"+u(a.sales)+"件",1)])),_:2},1032,["to"]))),64))])),_:1})}},__scopeId:"data-v-87974664"};a("data-v-6da6e070");const C=["src"],V=l("span",null,"热点资讯公告：",-1);e();const z={setup(a){const e=p({}),_=async()=>{const{data:a}=await g();200===a.status&&(e.value=a.data,z.value=!1)};_();const w=v((()=>{var a;return null==(a=e.value.swiperBg)?void 0:a.default.imgList.list})),y=v((()=>{var a;return null==(a=e.value.menus)?void 0:a.default.imgList.list})),b=v((()=>{var a;return null==(a=e.value.news)?void 0:a.default.newList.list})),x=p([]),j=m({loading:!1,finished:!1});let I=1;const L=async()=>{const{data:a}=await h({limit:4,page:I});200===a.status&&(x.value.push(...a.data),j.loading=!1,a.data.length<4?j.finished=!0:I++)},z=p(!1),D=()=>{e.value={},x.value=[],I=1,j.loading=!1,j.finished=!1,_(),L()};return(a,e)=>{const p=t("van-swipe-item"),v=t("van-swipe"),m=t("van-grid-item"),g=t("van-grid"),h=t("van-notice-bar"),_=t("van-list"),I=t("van-pull-refresh");return s(),o(I,{class:"home-main",modelValue:z.value,"onUpdate:modelValue":e[1]||(e[1]=a=>z.value=a),onRefresh:D},{default:d((()=>[i(v,{class:"my-swipe",autoplay:3e3,"indicator-color":"white"},{default:d((()=>[(s(!0),n(c,null,r(f(w),((a,e)=>(s(),o(p,{key:e},{default:d((()=>[l("img",{src:a.img},null,8,C)])),_:2},1024)))),128))])),_:1}),i(g,{"icon-size":"40"},{default:d((()=>[(s(!0),n(c,null,r(f(y),((a,e)=>(s(),o(m,{key:e,icon:a.img,text:a.info[0].value},null,8,["icon","text"])))),128))])),_:1}),i(h,{"left-icon":"fire-o",scrollable:!1},{default:d((()=>[V,i(v,{vertical:"",class:"notice-swipe",autoplay:3e3,"show-indicators":!1},{default:d((()=>[(s(!0),n(c,null,r(f(b),((a,e)=>(s(),o(p,{key:e,textContent:u(a.chiild[0].val)},null,8,["textContent"])))),128))])),_:1})])),_:1}),i(_,{loading:f(j).loading,"onUpdate:loading":e[0]||(e[0]=a=>f(j).loading=a),finished:f(j).finished,"finished-text":"没有更多了",onLoad:L},{default:d((()=>[i(k,{"products-data":x.value},null,8,["products-data"])])),_:1},8,["loading","finished"])])),_:1},8,["modelValue"])}},__scopeId:"data-v-6da6e070"};const D={setup:a=>(a,e)=>(s(),n(c,null,[i(x),i(z,{class:"home-main"}),i(_)],64)),__scopeId:"data-v-1cb18080"};export{D as default};
